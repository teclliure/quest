{% extends '::one_column.html.twig' %}

{% block javascripts %}
    {{ parent() }}
    <script src="{{ asset('bundles/teclliurepatient/js/createQuestionary.js') }}" type="text/javascript"></script>
    <script src="{{ asset('bundles/teclliureuser/js/jquery-ui-1.9.1.custom.min.js') }}" type="text/javascript"></script>
{% endblock %}
{% block stylesheets %}
    {{ parent() }}
    <link type="text/css" rel="stylesheet" href="{{ asset('bundles/teclliureuser/css/south-street/jquery-ui-1.9.1.custom.min.css') }}">
{% endblock %}

{% block title %}{{ "Create questionary" | trans }}{% endblock %}

{% form_theme patientQuestionaryForm _self %}

{% block form_label %}
    {% spaceless %}
        {% set label_attr = label_attr|merge({'id': id}) %}
        {% if required %}
            {% set label_attr = label_attr|merge({'class': (label_attr.class|default('') ~ ' required')|trim}) %}
        {% endif %}
        {% if label is empty %}
            {% set label = name|humanize %}
        {% endif %}
        {% autoescape false %}
        <div{% for attrname, attrvalue in label_attr %} {{ attrname }}="{{ attrvalue }}"{% endfor %}>{{ label|trans({}, translation_domain) }}
        {% endautoescape %}
    {% endspaceless %}
{% endblock form_label %}

{% block inner_content %}
<div style="float: right">
    <div class="sonata-actions">
        <a class="btn sonata-action-element" href="{{ path('patient_show', { 'id': patient.id }) }}">
            {{ 'Back to show' | trans }}
        </a>
    </div>
</div>
<br />
<br />
<legend>
    {{ 'Person' | trans }} <span id="legendName">{{ patient.name }}</span>
</legend>

<form action="{{ path('questionary_patient_save', {'id': patient.id, 'questionaryId': questionary.id} ) }}" method="post" {{ form_enctype(patientQuestionaryForm) }}>
    {{ form_widget(patientQuestionaryForm) }}

    <input type="submit" value="{{ 'Save' | trans }}" />
</form>

{% endblock %}